# ğŸ¯ å†²å‡»95%å‡†ç¡®ç‡ - å®Œæ•´è·¯çº¿å›¾

## ğŸ“Š ç°çŠ¶åˆ†æ

- **å½“å‰æœ€ä½³**: 57.45% (Epoch 11)
- **çŸ­æœŸç›®æ ‡**: 70-80% (ä¿å®ˆé…ç½®ï¼Œ50 epochs)
- **æœ€ç»ˆç›®æ ‡**: **95%**
- **å·®è·**: 95% - 57% = **38ä¸ªç™¾åˆ†ç‚¹**

---

## ğŸš€ **ä¸‰é˜¶æ®µå†²åˆºæ–¹æ¡ˆ**

### **é˜¶æ®µ1: ç¨³å®šåŸºç¡€ï¼ˆå½“å‰è¿›è¡Œä¸­ï¼Œ0-50 epochsï¼‰**
**ç›®æ ‡**: 70-75%
**ç­–ç•¥**: ä¿å®ˆé…ç½®ï¼Œç¡®ä¿è®­ç»ƒç¨³å®š
**é¢„è®¡æ—¶é—´**: 12å°æ—¶

### **é˜¶æ®µ2: æ€§èƒ½æå‡ï¼ˆ50-100 epochsï¼‰**
**ç›®æ ‡**: 85-90%
**ç­–ç•¥**: é€æ­¥å¢å¼ºï¼Œå¹³è¡¡æ³›åŒ–
**é¢„è®¡æ—¶é—´**: 12å°æ—¶

### **é˜¶æ®µ3: å†²åˆº95%ï¼ˆ100-150 epochsï¼‰**
**ç›®æ ‡**: 93-95%+
**ç­–ç•¥**: æé™ä¼˜åŒ– + é«˜çº§æŠ€å·§
**é¢„è®¡æ—¶é—´**: 12å°æ—¶

**æ€»è®¡**: çº¦36å°æ—¶è®­ç»ƒæ—¶é—´

---

## ğŸ“‹ **é˜¶æ®µ2é…ç½®ï¼ˆ85-90%ç›®æ ‡ï¼‰**

### **å…³é”®æ”¹è¿›**

1. **ä½¿ç”¨é¢„è®­ç»ƒæƒé‡**
```python
# åŠ è½½ImageNeté¢„è®­ç»ƒçš„RGB backbone
pretrained_rgb = 'https://download.openmmlab.com/mmaction/recognition/i3d/i3d_r50_video_32x2x1_100e_kinetics400_rgb/i3d_r50_video_32x2x1_100e_kinetics400_rgb_20200826-e31c6f52.pth'
```

2. **æ¸è¿›å¼æ•°æ®å¢å¼º**
```python
# é˜¶æ®µ2: ä¸­ç­‰å¼ºåº¦å¢å¼º
train_pipeline = [
    dict(type='RandomResizedCrop', area_range=(0.50, 1.0)),  # 0.56â†’0.50
    dict(type='ColorJitter', brightness=0.2, contrast=0.2, saturation=0.2, hue=0.1),  # é‡æ–°å¼•å…¥ä½†å‡å¼±
    dict(type='RandomErasing', probability=0.15, min_area_ratio=0.02, max_area_ratio=0.15),  # è½»é‡ç‰ˆ
]
```

3. **ä¼˜åŒ–å™¨ç­–ç•¥**
```python
# æ›´é•¿çš„è®­ç»ƒ + æ›´ç²¾ç»†çš„å­¦ä¹ ç‡
lr=0.008  # æé«˜åˆ°0.008
weight_decay=0.0004  # é€‚ä¸­æ­£åˆ™åŒ–
max_epochs=100  # å»¶é•¿åˆ°100
```

4. **å­¦ä¹ ç‡è°ƒåº¦**
```python
# Cosine with restarts
param_scheduler = [
    dict(type='CosineAnnealingLR', T_max=50, eta_min=1e-5, begin=0, end=50),
    dict(type='CosineAnnealingLR', T_max=50, eta_min=1e-6, begin=50, end=100),  # ç¬¬äºŒè½®
]
```

5. **Lossæƒé‡ä¼˜åŒ–**
```python
# å¹³è¡¡åŒåˆ†æ”¯ï¼Œè®©Poseåˆ†æ”¯æ›´å¼º
loss_weights=[1.0, 1.3, 0.5, 1.0]  # Pose 1.0â†’1.3
```

---

## ğŸ“‹ **é˜¶æ®µ3é…ç½®ï¼ˆ95%å†²åˆºï¼‰**

### **é«˜çº§æŠ€å·§**

1. **æ ‡ç­¾å¹³æ»‘**
```python
head_cfg = dict(
    type='RGBPoseHead',
    loss_cls=dict(type='LabelSmoothLoss', label_smooth_val=0.1),  # å‡å°‘è¿‡æ‹Ÿåˆ
)
```

2. **Mixup/Cutmix**
```python
train_pipeline = [
    # ... å…¶ä»–å¢å¼º ...
    dict(type='MixUp', alpha=0.2),
    dict(type='CutMix', alpha=1.0),
]
```

3. **EMA (æŒ‡æ•°ç§»åŠ¨å¹³å‡)**
```python
model_wrapper_cfg = dict(
    type='MMDistributedDataParallel',
    find_unused_parameters=False,
    ema_cfg=dict(momentum=0.9999),  # å¹³æ»‘æ¨¡å‹æƒé‡
)
```

4. **æ›´å¼ºTTA**
```python
# æµ‹è¯•æ—¶10 clips + å¤šå°ºåº¦
test_pipeline = [
    dict(type='MMUniformSampleFrames', num_clips=10),
    dict(type='ThreeCrop', crop_size=224),  # 3ä¸ªcrop
]
```

5. **æ›´æ¿€è¿›æ•°æ®å¢å¼º**
```python
train_pipeline = [
    dict(type='RandomResizedCrop', area_range=(0.40, 1.0)),  # å›åˆ°0.40
    dict(type='ColorJitter', brightness=0.4, contrast=0.4, saturation=0.4, hue=0.15),
    dict(type='RandomErasing', probability=0.25, min_area_ratio=0.02, max_area_ratio=0.2),
    dict(type='RandomRotation', degrees=15),  # æ–°å¢æ—‹è½¬
]
```

6. **å»¶é•¿è®­ç»ƒ**
```python
max_epochs=150
```

---

## ğŸ¯ **ç«‹å³è¡ŒåŠ¨æ–¹æ¡ˆ**

### **é€‰é¡¹1: è®©å½“å‰è®­ç»ƒç»§ç»­ï¼ˆæ¨èï¼‰**
- ç­‰å¾…å½“å‰è®­ç»ƒå®Œæˆï¼ˆ12å°æ—¶ï¼‰
- è¾¾åˆ°70-75%åï¼Œç”¨é˜¶æ®µ2é…ç½®ç»§ç»­
- é¢„è®¡36å°æ—¶åè¾¾åˆ°95%

### **é€‰é¡¹2: ç«‹å³åˆ‡æ¢åˆ°æ¿€è¿›é…ç½®**
- åœæ­¢å½“å‰è®­ç»ƒ
- åº”ç”¨é˜¶æ®µ2+3çš„ç»¼åˆé…ç½®
- ä»Epoch 11ç›´æ¥å†²åˆº
- é£é™©ï¼šå¯èƒ½ä¸ç¨³å®š

### **é€‰é¡¹3: æŠ˜ä¸­æ–¹æ¡ˆï¼ˆæ¨èç»™ç€æ€¥çš„æƒ…å†µï¼‰**
- è®©å½“å‰è®­ç»ƒè·‘åˆ°Epoch 20-30ï¼ˆçº¦5å°æ—¶ï¼‰
- å¦‚æœè¾¾åˆ°65%+ï¼Œåˆ‡æ¢åˆ°æ¿€è¿›é…ç½®
- å¹³è¡¡ç¨³å®šæ€§å’Œé€Ÿåº¦

---

## ğŸ“Š **95%é…ç½®æ–‡ä»¶ï¼ˆå®Œæ•´ç‰ˆï¼‰**

æˆ‘å¯ä»¥åˆ›å»ºä¸€ä¸ª `pcan_ntu60_95percent_aggressive.py`ï¼ŒåŒ…å«ï¼š

### **æ ¸å¿ƒå‚æ•°**
```python
# æ¨¡å‹
loss_weights=[1.0, 1.5, 0.6, 1.2]  # æ¢å¤æ¿€è¿›æƒé‡

# æ•°æ®å¢å¼ºï¼ˆæ¸è¿›å¼ï¼‰
RandomResizedCrop(area_range=(0.45, 1.0))  # æŠ˜ä¸­æ–¹æ¡ˆ
ColorJitter(brightness=0.3, contrast=0.3, saturation=0.3, hue=0.12)
RandomErasing(probability=0.20)
MixUp(alpha=0.2)  # æ–°å¢

# è®­ç»ƒ
max_epochs=120
batch_size=16  # ä¿æŒï¼Œé¿å…OOM

# ä¼˜åŒ–å™¨
lr=0.01  # æ›´é«˜å­¦ä¹ ç‡
weight_decay=0.0004
clip_grad max_norm=30

# å­¦ä¹ ç‡è°ƒåº¦ï¼ˆCosine with warmupï¼‰
warmup_epochs=3  # çŸ­warmup
T_max=117

# TTA
num_clips=10  # æµ‹è¯•æ—¶10ä¸ªclip

# é«˜çº§æŠ€å·§
label_smoothing=0.1
ema_momentum=0.9999

# Checkpoint
load_from='work_dirs/pcan_ntu60_95target_rescue/best_acc_RGBPose_1:1_top1_epoch_XX.pth'  # ä»å½“å‰æœ€ä½³ç»§ç»­
```

---

## â±ï¸ **æ—¶é—´çº¿é¢„æµ‹**

| é˜¶æ®µ | Epochs | æ—¶é—´ | ç›®æ ‡å‡†ç¡®ç‡ | ç´¯è®¡æ—¶é—´ |
|------|--------|------|-----------|----------|
| **å½“å‰è®­ç»ƒ** | 1-50 | 12h | 70-75% | 12h |
| **é˜¶æ®µ2** | 51-100 | 12h | 85-90% | 24h |
| **é˜¶æ®µ3** | 101-150 | 12h | 93-95% | 36h |

---

## ğŸ¯ **æˆ‘çš„å»ºè®®**

### **æœ€ç¨³å¦¥æ–¹æ¡ˆï¼ˆæˆåŠŸç‡90%ï¼‰**
1. âœ… è®©å½“å‰è®­ç»ƒå®Œæˆï¼ˆ70-75%ï¼‰
2. âœ… åº”ç”¨é˜¶æ®µ2é…ç½®ï¼ˆ85-90%ï¼‰
3. âœ… æœ€åå†²åˆºé˜¶æ®µ3ï¼ˆ95%ï¼‰
4. âœ… æ€»æ—¶é—´36å°æ—¶

### **å¿«é€Ÿæ–¹æ¡ˆï¼ˆæˆåŠŸç‡70%ï¼Œä½†æœ‰é£é™©ï¼‰**
1. âš¡ ç«‹å³åœæ­¢å½“å‰è®­ç»ƒ
2. âš¡ åº”ç”¨æ¿€è¿›95%é…ç½®
3. âš¡ ä»Epoch 11ç›´æ¥å†²åˆº120 epochs
4. âš¡ æ€»æ—¶é—´24å°æ—¶
5. âš ï¸ é£é™©ï¼šå¯èƒ½å†æ¬¡å´©æºƒ

---

## ğŸ¤” **ä½ çš„é€‰æ‹©ï¼Ÿ**

**A. ç¨³å¦¥æ–¹æ¡ˆ** - ç­‰å½“å‰è®­ç»ƒå®Œæˆï¼Œåˆ†é˜¶æ®µå†²åˆºï¼ˆæ¨èï¼‰
**B. å¿«é€Ÿæ–¹æ¡ˆ** - ç«‹å³åˆ‡æ¢åˆ°æ¿€è¿›é…ç½®
**C. æŠ˜ä¸­æ–¹æ¡ˆ** - ç­‰åˆ°Epoch 20-30å†åˆ‡æ¢

**æˆ‘å»ºè®®é€‰Aæˆ–C**ï¼Œå› ä¸ºï¼š
- å½“å‰è®­ç»ƒå·²ç»ç¨³å®š
- æ¸è¿›å¼æ›´å®¹æ˜“è¾¾åˆ°95%
- é¿å…é‡å¤ä¹‹å‰çš„å´©æºƒ

---

## ğŸ“ **éœ€è¦æˆ‘åšä»€ä¹ˆï¼Ÿ**

å‘Šè¯‰æˆ‘ä½ é€‰å“ªä¸ªæ–¹æ¡ˆï¼Œæˆ‘ä¼šï¼š
1. åˆ›å»ºç›¸åº”çš„é…ç½®æ–‡ä»¶
2. å‡†å¤‡è®­ç»ƒè„šæœ¬
3. è®¾ç½®è‡ªåŠ¨åˆ‡æ¢æœºåˆ¶
4. æŒç»­ç›‘æ§è®­ç»ƒçŠ¶æ€

**ä½ æƒ³é€‰å“ªä¸ªï¼Ÿæˆ–è€…æœ‰å…¶ä»–æƒ³æ³•ï¼Ÿ**

